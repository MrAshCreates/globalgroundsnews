name = "globalgroundsnews"
compatibility_date = "2024-09-27"  # Current date

[build]
command = "npm run build"  # Ensure your build command works as expected
upload = { format = "service-workers" }

[site]
bucket = "./.next/static"  # This points to the static files generated by Next.js
entry-point = "./workers"  # Ensure this points to your correct worker directory

[env.production]
account_id = "6e6777f3fa1e7f73bdeda9d13cb3dbd3"  # Replace with your Cloudflare account ID
project_name = "globalgroundsnews"
route = "https://globalgrounds.news/*"  # Replace with your actual domain route

[worker]
type = "javascript"  # Ensure this is correctly configured for your project

[vars]
NODE_ENV = "production"  # Set any environment variables needed